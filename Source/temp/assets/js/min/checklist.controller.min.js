!function(){function ChecklistController($scope,$state,$rootScope,datafactory,dataservice){$scope.questions=datafactory.questions,$scope.allanswers=[],$scope.total=[],$scope.sectionArray=[],$scope.notAnsweredAll=!0,$scope.counter=0,$scope.section;var date=new Date;$scope.lastUpdated=date.getMonth()+1+"/"+date.getDate()+"/"+date.getFullYear(),$scope.last="12",$scope.firm=datafactory.firm,$rootScope.sections=dataservice.getJsonData(),$scope.addInfo=function($index){this.SectiontoComplete=$scope.questions[$index].section,this.showText=!0},$scope.removeInfo=function($index){this.showText=!1},$scope.toggleActivateYes=function(question){question.ActiveYes=!question.ActiveYes,question.ActiveNo=!1,this.processUserInput(question.section),this.answered(question)},$scope.toggleActivateNo=function(question){question.ActiveNo=!question.ActiveNo,question.ActiveYes=!1,this.clearUserInput(question),this.answered(question)},$scope.processUserInput=function(sections){$scope.sectionArray=sections.split(",");var idx=$scope.sectionArray.toString();-1===$scope.total.indexOf(idx)&&($scope.total=$scope.total.concat($scope.sectionArray)),dataservice.setSection($scope.total)},$scope.clearUserInput=function(sections){5!=sections.id&&($scope.sectionArray=sections.section.split(","),$scope.total=$scope.total.filter(function(item){return-1===$scope.sectionArray.indexOf(item)}))},$scope.answered=function(question){-1===$scope.allanswers.indexOf(question.id)&&$scope.allanswers.push(question.id),5==$scope.allanswers.length&&($scope.notAnsweredAll=!1)},$scope.isAnswered=function(){if($scope.total.length){var sectiontoforward="section"+$scope.total[0];$state.go(sectiontoforward)}else $scope.answerAlltext=!0}}angular.module("cyberapp.checklist").controller("ChecklistController",ChecklistController),ChecklistController.$inject=["$scope","$state","$rootScope","datafactory","dataservice"]}();