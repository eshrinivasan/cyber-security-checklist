angular.module("cyberapp.section").directive("gridSectionHeader",function(){return{restrict:"E",link:function(scope,element,attributes){},compile:function(element,attrs){element.append("<h2>"+attrs.title+"</h2>")}}}).directive("gridSectionNotes",function(){return{restrict:"E",link:function(scope,element,attributes){},compile:function(element,attrs){element.append("<div ng-include=\"'"+attrs.template+"'\"></div>")}}}).directive("ngMultistepsindicator",["dataservice","$state",function(dataservice,$state){return{restrict:"EA",templateUrl:"components/section/directives/mstep.dir.html"}}]).directive("ngPagination",["dataservice","$state","$sessionStorage",function(dataservice,$state,$sessionStorage){return{restrict:"EA",templateUrl:"components/section/directives/pager.dir.html",link:function($scope,element,attrs){$scope.currentState=$state.current.name,$scope.sectionNumber=$scope.currentState.match(/\d+$/)[0],$scope.prevPage=function(){var currindex=$scope.getIndex(),previndex=--currindex,prevSection=$scope.total[previndex];"undefined"!=typeof $scope.total&&-1!==previndex?($state.go("section"+prevSection),$scope.prevPageDisabled=!1):$scope.prevPageDisabled=!0},$scope.nextPage=function(){var currindex=$scope.getIndex(),nextindex=++currindex,sectosavearr=dataservice.getSectionAssocArray($scope.currentState);if(sectosavearr.length>1?angular.forEach(sectosavearr,function(key,value){$sessionStorage[key]=$scope[key]}):$sessionStorage[$scope.currentState]=$scope[$scope.currentState],"undefined"!=typeof $scope.total&&nextindex<$scope.total.length){var nextSection=$scope.total[nextindex],nextPage="section"+nextSection;$state.go(nextPage),$scope.nextPageDisabled=!1}else if("undefined"!=typeof $scope.total&&nextindex==$scope.total.length){var nextPage="print";$state.go(nextPage)}else $scope.nextPageDisabled=!0},$scope.getIndex=function(){if("undefined"!=typeof $scope.total){var index=$scope.total.indexOf($scope.sectionNumber);return index}}}}}]);